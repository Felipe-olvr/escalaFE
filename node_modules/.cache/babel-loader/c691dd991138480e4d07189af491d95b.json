{"ast":null,"code":"var _jsxFileName = \"/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js\";\nimport React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\nimport LoginScreen from './LoginScreen';\nimport { FiLogOut } from \"react-icons/fi\";\n\nconst LoggedIn = ({\n  escala,\n  username,\n  signOut\n}) => {\n  const headBarStyle = {\n    textAlign: 'right',\n    background: '#000080',\n    color: '#FFFFFF',\n    padding: '12px'\n  };\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: headBarStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, username, \" \", React.createElement(\"span\", {\n    onClick: signOut,\n    style: {\n      cursor: 'pointer'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(FiLogOut, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }))), React.createElement(LateralMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }), React.createElement(SearchBar, {\n    data: escala,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }));\n};\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      escala: [],\n      usernames: [],\n\n      /* all the usernames are active emails from escala */\n      users: [],\n      passwords: \"123\",\n      isLogged: \"false\",\n      username: \"\"\n    };\n  }\n  /* Getting json file from backend application */\n\n\n  componentDidMount() {\n    fetch('http://homestead.local/escala').then(response => response.json()).then(escala => this.setState({\n      escala\n    })).then(username => this.setState({\n      usernames: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.email;\n      })\n    })).then(users => this.setState({\n      users: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.user;\n      })\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  signIn(username, password) {\n    let success = false;\n\n    for (let i = 0; i < this.state.usernames.length; i++) {\n      if (username === this.state.usernames[i] && password === this.state.passwords) {\n        console.log(\"Logado!\");\n        success = true;\n        this.setState({\n          isLogged: \"true\",\n          username: this.state.users[i]\n        });\n      }\n    }\n\n    if (success === false) console.log(\"Usuário ou senha errada!\");\n  }\n\n  signOut() {\n    this.setState({\n      isLogged: \"false\",\n      username: \"\"\n    });\n  }\n\n  render() {\n    /* Adding the attribute 'removed' to json object before sending it to\n       others componentes */\n    const escala = this.state.escala;\n    escala.map((item, i) => {\n      return item['removed'] = 'false';\n    }); //teste\n\n    const val = new Array(37).fill({\n      company: \"Escala\",\n      created_at: \"2019-08-15 17:33:54\",\n      email: \"lippe252@gmail.com\",\n      escalas: \"0\",\n      id: 1,\n      removed: \"false\",\n      status: \"ativo\",\n      updated_at: \"2019-08-15 17:33:54\",\n      user: \"Felipe Oliveira\"\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.isLogged === \"true\" ? React.createElement(LoggedIn, {\n      escala: val,\n      username: this.state.username,\n      signOut: this.signOut.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }) : React.createElement(LoginScreen, {\n      onSignIn: this.signIn.bind(this),\n      data: this.state.escala,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js"],"names":["React","LateralMenu","SearchBar","LoginScreen","FiLogOut","LoggedIn","escala","username","signOut","headBarStyle","textAlign","background","color","padding","cursor","Login","Component","constructor","props","state","usernames","users","passwords","isLogged","componentDidMount","fetch","then","response","json","setState","filter","item","status","map","i","email","user","catch","e","console","log","signIn","password","success","length","render","val","Array","fill","company","created_at","escalas","id","removed","updated_at","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\nimport LoginScreen from './LoginScreen';\nimport { FiLogOut } from \"react-icons/fi\";\n\nconst LoggedIn = ({escala, username, signOut}) => {\n\t\n\tconst headBarStyle = {\n\t\ttextAlign: 'right',\n\t\tbackground: '#000080',\n\t\tcolor: '#FFFFFF',\n\t\tpadding: '12px'\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div style={headBarStyle}>\n\t\t\t{username} <span onClick={signOut} style={{cursor:'pointer'}}><FiLogOut /></span>\n\t\t\t</div>\n\t  \t\t\n\t  \t\t<LateralMenu />\n\t        \n\t        <SearchBar data={escala}/>\n\t  \t</div>\n\t);\n}\n\nclass Login extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tescala: [],\n\t\t\tusernames: [], /* all the usernames are active emails from escala */\n\t\t\tusers: [],\n\t\t\tpasswords: \"123\",\n\t\t\tisLogged: \"false\",\n\t\t\tusername: \"\"\n\t\t};\n\n\t\t\n\t}\n\n\t/* Getting json file from backend application */\n\tcomponentDidMount() {\n    \tfetch('http://homestead.local/escala')\n      \t\t.then(response => response.json())\n      \t\t.then(escala => this.setState({ escala }))\n      \t\t.then(username => this.setState({\n      \t\t\tusernames: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.email; })\n      \t\t}))\n      \t\t.then(users => this.setState({\n      \t\t\tusers: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.user; })\n      \t\t}))\n      \t\t.catch(e => {\n        \t\tconsole.log(e);\n        \treturn e;\n    \t});\n\n  \t}\n\n  \tsignIn(username, password) {\n  \t\tlet success = false;\n  \t\tfor(let i = 0; i < this.state.usernames.length; i++){\n  \t\t\tif((username === this.state.usernames[i]) && \n  \t\t\t\t(password === this.state.passwords))\n  \t\t\t{\n  \t\t\t\tconsole.log(\"Logado!\");\n  \t\t\t\tsuccess = true;\n  \t\t\t\tthis.setState({ \n  \t\t\t\t\tisLogged: \"true\",\n  \t\t\t\t\tusername: this.state.users[i]\n  \t\t\t\t});\n  \t\t\t}\n  \t\t}\n  \t\tif(success === false) \n  \t\t\tconsole.log(\"Usuário ou senha errada!\");\n  \t}\n\n  \tsignOut(){\n  \t\tthis.setState({\n  \t\t\tisLogged: \"false\",\n  \t\t\tusername: \"\"\n  \t\t})\n  \t}\n\n\trender(){\n\n\t\t/* Adding the attribute 'removed' to json object before sending it to\n\t    others componentes */\n    \tconst escala = this.state.escala;\n    \tescala.map( (item, i) => {\n      \t\treturn ( item['removed'] = 'false' )\n    \t});\n\n    \t//teste\n    \tconst val = new Array(37)\n    \t.fill({company: \"Escala\", created_at: \"2019-08-15 17:33:54\", \n    \t\temail: \"lippe252@gmail.com\",\n\t\t\tescalas: \"0\",\n\t\t\tid: 1,\n\t\t\tremoved: \"false\",\n\t\t\tstatus: \"ativo\",\n\t\t\tupdated_at: \"2019-08-15 17:33:54\",\n\t\t\tuser: \"Felipe Oliveira\"});\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t{\n\t\t\t\t(this.state.isLogged === \"true\") ?\n\t\t\t\t<LoggedIn escala={val} username={this.state.username}\n\t\t\t\tsignOut={this.signOut.bind(this)} />\n\t\t\t\t:\n\t\t\t\t<LoginScreen \n\t\t\t\t\tonSignIn={this.signIn.bind(this)} data={this.state.escala}/>\n\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}