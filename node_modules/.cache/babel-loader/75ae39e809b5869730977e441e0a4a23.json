{"ast":null,"code":"var _jsxFileName = \"/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js\";\nimport React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\nimport LoginScreen from './LoginScreen';\nimport { FiLogOut } from \"react-icons/fi\";\n\nconst LoggedIn = (escala, username) => {\n  const headBarStyle = {\n    textAlign: 'right',\n    background: '#000080',\n    color: '#FFFFFF',\n    padding: '12px'\n  };\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: headBarStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, username, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Sair\")), React.createElement(LateralMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), React.createElement(SearchBar, {\n    data: escala,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }));\n};\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      escala: [],\n      usernames: [],\n\n      /* all the usernames are active emails from escala */\n      users: [],\n      passwords: \"123\",\n      isLogged: false,\n      username: \"\"\n    };\n  }\n  /* Getting json file from backend application */\n\n\n  componentDidMount() {\n    fetch('http://homestead.local/escala').then(response => response.json()).then(escala => this.setState({\n      escala\n    })).then(username => this.setState({\n      usernames: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.email;\n      })\n    })).then(users => this.setState({\n      users: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.user;\n      })\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  signIn(username, password) {\n    let success = false;\n\n    for (let i = 0; i < this.state.usernames.length; i++) {\n      if (username === this.state.usernames[i] && password === this.state.passwords) {\n        console.log(\"Logado!\");\n        success = true;\n        this.setState({\n          isLogged: true,\n          username: this.state.users[i]\n        });\n      }\n    }\n\n    if (success === false) console.log(\"Usuário ou senha errada!\");\n  }\n\n  render() {\n    /* Adding the attribute 'removed' to json object before sending it to\n       others componentes */\n    const escala = this.state.escala;\n    escala.map((item, i) => {\n      return item['removed'] = 'false';\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.isLogged ? LoggedIn(this.state.escala, this.state.username) : React.createElement(LoginScreen, {\n      onSignIn: this.signIn.bind(this),\n      data: this.state.escala,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js"],"names":["React","LateralMenu","SearchBar","LoginScreen","FiLogOut","LoggedIn","escala","username","headBarStyle","textAlign","background","color","padding","Login","Component","constructor","props","state","usernames","users","passwords","isLogged","componentDidMount","fetch","then","response","json","setState","filter","item","status","map","i","email","user","catch","e","console","log","signIn","password","success","length","render","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\nimport LoginScreen from './LoginScreen';\nimport { FiLogOut } from \"react-icons/fi\";\n\nconst LoggedIn = (escala, username) => {\n\t\n\tconst headBarStyle = {\n\t\ttextAlign: 'right',\n\t\tbackground: '#000080',\n\t\tcolor: '#FFFFFF',\n\t\tpadding: '12px'\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div style={headBarStyle}>\n\t\t\t{username}\n\t\t\t<i>Sair</i>\n\t\t\t</div>\n\t  \t\t\n\t  \t\t<LateralMenu />\n\t        \n\t        <SearchBar data={escala}/>\n\t  \t</div>\n\t);\n}\n\nclass Login extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tescala: [],\n\t\t\tusernames: [], /* all the usernames are active emails from escala */\n\t\t\tusers: [],\n\t\t\tpasswords: \"123\",\n\t\t\tisLogged: false,\n\t\t\tusername: \"\"\n\t\t};\n\t\t\n\t}\n\n\t/* Getting json file from backend application */\n\tcomponentDidMount() {\n    \tfetch('http://homestead.local/escala')\n      \t\t.then(response => response.json())\n      \t\t.then(escala => this.setState({ escala }))\n      \t\t.then(username => this.setState({\n      \t\t\tusernames: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.email; })\n      \t\t}))\n      \t\t.then(users => this.setState({\n      \t\t\tusers: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.user; })\n      \t\t}))\n      \t\t.catch(e => {\n        \t\tconsole.log(e);\n        \treturn e;\n    \t});\n\n  \t}\n\n  \tsignIn(username, password) {\n  \t\tlet success = false;\n  \t\tfor(let i = 0; i < this.state.usernames.length; i++){\n  \t\t\tif((username === this.state.usernames[i]) && \n  \t\t\t\t(password === this.state.passwords))\n  \t\t\t{\n  \t\t\t\tconsole.log(\"Logado!\");\n  \t\t\t\tsuccess = true;\n  \t\t\t\tthis.setState({ \n  \t\t\t\t\tisLogged: true,\n  \t\t\t\t\tusername: this.state.users[i]\n  \t\t\t\t});\n  \t\t\t}\n  \t\t}\n  \t\tif(success === false) \n  \t\t\tconsole.log(\"Usuário ou senha errada!\");\n  \t}\n\n\trender(){\n\t\t/* Adding the attribute 'removed' to json object before sending it to\n\t    others componentes */\n    \tconst escala = this.state.escala;\n    \tescala.map( (item, i) => {\n      \t\treturn ( item['removed'] = 'false' )\n    \t});\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t{\n\t\t\t\t(this.state.isLogged) ? \n\t\t\t\tLoggedIn(this.state.escala, this.state.username)\n\t\t\t\t:\n\t\t\t\t<LoginScreen onSignIn={this.signIn.bind(this)} data={this.state.escala}/>\n\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}