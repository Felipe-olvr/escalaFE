{"ast":null,"code":"var _jsxFileName = \"/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js\";\nimport React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\n\nconst LoggedIn = escala => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, React.createElement(LateralMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }), React.createElement(SearchBar, {\n    data: escala,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }));\n};\n\nclass LoginScreen extends React.Component {\n  handleLogin(e) {\n    e.preventDefault();\n    let username = this.refs.username.value;\n    let password = this.refs.password.value;\n    this.props.onSignIn(username, password);\n  }\n\n  render() {\n    const divStyleLogin = {\n      margin: '20px',\n      borderStyle: 'solid',\n      borderWidth: '1px',\n      padding: '10px',\n      background: '#EEE',\n      width: '40%'\n    };\n    return React.createElement(\"div\", {\n      style: divStyleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Escala Front-End App\"), React.createElement(\"form\", {\n      onSubmit: this.handleLogin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Usu\\xE1rio: \"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"username\",\n      size: \"30\",\n      placeholder: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Senha: \"), React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"password\",\n      size: \"30\",\n      placeholder: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      escala: [],\n      usernames: [],\n\n      /* all the usernames are active emails from escala */\n      passwords: \"123\",\n      isLogged: false,\n      username: \"\"\n    };\n  }\n  /* Getting json file from backend application */\n\n\n  componentDidMount() {\n    fetch('http://homestead.local/escala').then(response => response.json()).then(escala => this.setState({\n      escala\n    })).then(username => this.setState({\n      usernames: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.email;\n      })\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  signIn(username, password) {\n    let success = false;\n\n    for (let i = 0; i < this.state.usernames.length; i++) {\n      if (username === this.state.usernames[i] && password === this.state.passwords) {\n        console.log(\"Logado!\");\n        success = true;\n        this.setState({\n          isLogged: true,\n          username: this.state.usernames[i].username\n        });\n      }\n    }\n\n    if (success === false) console.log(\"Usuário ou senha errada!\");\n  }\n\n  render() {\n    /* Adding the attribute 'removed' to json object before sending it to\n       others componentes */\n    const escala = this.state.escala;\n    escala.map((item, i) => {\n      return item['removed'] = 'false';\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.isLogged ? LoggedIn(this.state.escala) : React.createElement(LoginScreen, {\n      onSignIn: this.signIn.bind(this),\n      data: this.state.escala,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js"],"names":["React","LateralMenu","SearchBar","LoggedIn","escala","LoginScreen","Component","handleLogin","e","preventDefault","username","refs","value","password","props","onSignIn","render","divStyleLogin","margin","borderStyle","borderWidth","padding","background","width","bind","Login","constructor","state","usernames","passwords","isLogged","componentDidMount","fetch","then","response","json","setState","filter","item","status","map","i","email","catch","console","log","signIn","success","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\n\nconst LoggedIn = (escala) => {\n\treturn (\n\t\t<div>\n\t  \t\t<LateralMenu />\n\t        <SearchBar data={escala}/>\n\t  \t</div>\n\t);\n}\n\nclass LoginScreen extends React.Component {\n\n\thandleLogin(e){\n\t\te.preventDefault();\n\t\tlet username = this.refs.username.value;\n\t\tlet password = this.refs.password.value;\n\t\tthis.props.onSignIn(username, password);\n\t}\n\n\n\trender(){\n\t\tconst divStyleLogin = {\n\t\t\tmargin: '20px',\n\t\t\tborderStyle: 'solid',\n\t\t\tborderWidth: '1px',\n\t\t\tpadding: '10px',\n\t\t\tbackground: '#EEE',\n\t\t\twidth: '40%'\n\t\t};\n\n\t\treturn (\n\t\t\t<div style={divStyleLogin}>\n\t\t\t<h1>Escala Front-End App</h1>\n\t\t\t<form onSubmit={this.handleLogin.bind(this)}>\n\t\t\t\t<p><b>Usuário: </b>\n\t\t\t\t<input type=\"text\" ref=\"username\" size=\"30\" placeholder=\"\"/></p>\n\t\t\t\t<p><b>Senha: </b>\n\t\t\t\t<input type=\"password\" ref=\"password\" size=\"30\" placeholder=\"\"/></p>\n\t\t\t\t<p><input type=\"submit\" value=\"Login\"/></p>\n\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Login extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tescala: [],\n\t\t\tusernames: [], /* all the usernames are active emails from escala */\n\t\t\tpasswords: \"123\",\n\t\t\tisLogged: false,\n\t\t\tusername: \"\"\n\t\t};\n\t\t\n\t}\n\n\t/* Getting json file from backend application */\n\tcomponentDidMount() {\n    \tfetch('http://homestead.local/escala')\n      \t\t.then(response => response.json())\n      \t\t.then(escala => this.setState({ escala }))\n      \t\t.then(username => this.setState({\n      \t\t\tusernames: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.email; })\n      \t\t}))\n      \t\t.catch(e => {\n        \t\tconsole.log(e);\n        \treturn e;\n    \t});\n\n  \t}\n\n  \tsignIn(username, password) {\n  \t\tlet success = false;\n  \t\tfor(let i = 0; i < this.state.usernames.length; i++){\n  \t\t\tif((username === this.state.usernames[i]) && \n  \t\t\t\t(password === this.state.passwords))\n  \t\t\t{\n  \t\t\t\tconsole.log(\"Logado!\");\n  \t\t\t\tsuccess = true;\n  \t\t\t\tthis.setState({ \n  \t\t\t\t\tisLogged: true,\n  \t\t\t\t\tusername: this.state.usernames[i].username\n  \t\t\t\t});\n  \t\t\t}\n  \t\t}\n  \t\tif(success === false) \n  \t\t\tconsole.log(\"Usuário ou senha errada!\");\n  \t}\n\n\trender(){\n\t\t/* Adding the attribute 'removed' to json object before sending it to\n\t    others componentes */\n    \tconst escala = this.state.escala;\n    \tescala.map( (item, i) => {\n      \t\treturn ( item['removed'] = 'false' )\n    \t});\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t{\n\t\t\t\t(this.state.isLogged) ? \n\t\t\t\tLoggedIn(this.state.escala)\n\t\t\t\t:\n\t\t\t\t<LoginScreen onSignIn={this.signIn.bind(this)} data={this.state.escala}/>\n\t\t\t}\n\t\t\t</div>\n\t\t)\n\n\t}\n\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}