{"ast":null,"code":"var _jsxFileName = \"/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js\";\nimport React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\nimport LoginScreen from './LoginScreen';\n\nconst LoggedIn = (escala, username) => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, username), React.createElement(LateralMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }), React.createElement(SearchBar, {\n    data: escala,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }));\n};\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      escala: [],\n      usernames: [],\n\n      /* all the usernames are active emails from escala */\n      passwords: \"123\",\n      isLogged: false,\n      username: \"\"\n    };\n  }\n  /* Getting json file from backend application */\n\n\n  componentDidMount() {\n    fetch('http://homestead.local/escala').then(response => response.json()).then(escala => this.setState({\n      escala\n    })).then(username => this.setState({\n      usernames: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.email;\n      })\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  signIn(username, password) {\n    let success = false;\n\n    for (let i = 0; i < this.state.usernames.length; i++) {\n      if (username === this.state.usernames[i] && password === this.state.passwords) {\n        console.log(\"Logado!\");\n        success = true;\n        this.setState({\n          isLogged: true,\n          username: username\n        });\n      }\n    }\n\n    if (success === false) console.log(\"Usuário ou senha errada!\");\n  }\n\n  render() {\n    /* Adding the attribute 'removed' to json object before sending it to\n       others componentes */\n    const escala = this.state.escala;\n    escala.map((item, i) => {\n      return item['removed'] = 'false';\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.state.isLogged ? LoggedIn(this.state.escala, this.state.username) : React.createElement(LoginScreen, {\n      onSignIn: this.signIn.bind(this),\n      data: this.state.escala,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js"],"names":["React","LateralMenu","SearchBar","LoginScreen","LoggedIn","escala","username","Login","Component","constructor","props","state","usernames","passwords","isLogged","componentDidMount","fetch","then","response","json","setState","filter","item","status","map","i","email","catch","e","console","log","signIn","password","success","length","render","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAACC,MAAD,EAASC,QAAT,KAAsB;AACtC,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMA,QAAN,CADD,EAGG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHH,EAIO,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAED,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJP,CADD;AAQA,CATD;;AAWA,MAAME,KAAN,SAAoBP,KAAK,CAACQ,SAA1B,CAAoC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACZN,MAAAA,MAAM,EAAE,EADI;AAEZO,MAAAA,SAAS,EAAE,EAFC;;AAEG;AACfC,MAAAA,SAAS,EAAE,KAHC;AAIZC,MAAAA,QAAQ,EAAE,KAJE;AAKZR,MAAAA,QAAQ,EAAE;AALE,KAAb;AAQA;AAED;;;AACAS,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAC,+BAAD,CAAL,CACIC,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,CAESZ,MAAM,IAAI,KAAKe,QAAL,CAAc;AAAEf,MAAAA;AAAF,KAAd,CAFnB,EAGIY,IAHJ,CAGSX,QAAQ,IAAI,KAAKc,QAAL,CAAc;AAC/BR,MAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWN,MAAX,CACVgB,MADU,CACDC,IAAD,IAAWA,IAAI,CAACC,MAAL,KAAgB,OADzB,EAEVC,GAFU,CAEL,CAACF,IAAD,EAAOG,CAAP,KAAa;AAAE,eAAOH,IAAI,CAACI,KAAZ;AAAoB,OAF9B;AADoB,KAAd,CAHrB,EAQIC,KARJ,CAQUC,CAAC,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD,aAAOA,CAAP;AACH,KAXD;AAaD;;AAEDG,EAAAA,MAAM,CAACzB,QAAD,EAAW0B,QAAX,EAAqB;AAC1B,QAAIC,OAAO,GAAG,KAAd;;AACA,SAAI,IAAIR,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKd,KAAL,CAAWC,SAAX,CAAqBsB,MAAxC,EAAgDT,CAAC,EAAjD,EAAoD;AACnD,UAAInB,QAAQ,KAAK,KAAKK,KAAL,CAAWC,SAAX,CAAqBa,CAArB,CAAd,IACDO,QAAQ,KAAK,KAAKrB,KAAL,CAAWE,SAD1B,EAEA;AACCgB,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAG,QAAAA,OAAO,GAAG,IAAV;AACA,aAAKb,QAAL,CAAc;AACbN,UAAAA,QAAQ,EAAE,IADG;AAEbR,UAAAA,QAAQ,EAAEA;AAFG,SAAd;AAIA;AACD;;AACD,QAAG2B,OAAO,KAAK,KAAf,EACCJ,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD;;AAEHK,EAAAA,MAAM,GAAE;AACP;;AAEG,UAAM9B,MAAM,GAAG,KAAKM,KAAL,CAAWN,MAA1B;AACAA,IAAAA,MAAM,CAACmB,GAAP,CAAY,CAACF,IAAD,EAAOG,CAAP,KAAa;AACtB,aAASH,IAAI,CAAC,SAAD,CAAJ,GAAkB,OAA3B;AACF,KAFD;AAIH,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,KAAKX,KAAL,CAAWG,QAAZ,GACAV,QAAQ,CAAC,KAAKO,KAAL,CAAWN,MAAZ,EAAoB,KAAKM,KAAL,CAAWL,QAA/B,CADR,GAGA,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAE,KAAKyB,MAAL,CAAYK,IAAZ,CAAiB,IAAjB,CAAvB;AAA+C,MAAA,IAAI,EAAE,KAAKzB,KAAL,CAAWN,MAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALD,CADD;AAWA;;AApEkC;;AAwEpC,eAAeE,KAAf","sourcesContent":["import React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\nimport LoginScreen from './LoginScreen';\n\nconst LoggedIn = (escala, username) => {\n\treturn (\n\t\t<div>\n\t\t\t<div>{username}\n\t\t\t</div>\n\t  \t\t<LateralMenu />\n\t        <SearchBar data={escala}/>\n\t  \t</div>\n\t);\n}\n\nclass Login extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tescala: [],\n\t\t\tusernames: [], /* all the usernames are active emails from escala */\n\t\t\tpasswords: \"123\",\n\t\t\tisLogged: false,\n\t\t\tusername: \"\"\n\t\t};\n\t\t\n\t}\n\n\t/* Getting json file from backend application */\n\tcomponentDidMount() {\n    \tfetch('http://homestead.local/escala')\n      \t\t.then(response => response.json())\n      \t\t.then(escala => this.setState({ escala }))\n      \t\t.then(username => this.setState({\n      \t\t\tusernames: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.email; })\n      \t\t}))\n      \t\t.catch(e => {\n        \t\tconsole.log(e);\n        \treturn e;\n    \t});\n\n  \t}\n\n  \tsignIn(username, password) {\n  \t\tlet success = false;\n  \t\tfor(let i = 0; i < this.state.usernames.length; i++){\n  \t\t\tif((username === this.state.usernames[i]) && \n  \t\t\t\t(password === this.state.passwords))\n  \t\t\t{\n  \t\t\t\tconsole.log(\"Logado!\");\n  \t\t\t\tsuccess = true;\n  \t\t\t\tthis.setState({ \n  \t\t\t\t\tisLogged: true,\n  \t\t\t\t\tusername: username\n  \t\t\t\t});\n  \t\t\t}\n  \t\t}\n  \t\tif(success === false) \n  \t\t\tconsole.log(\"Usuário ou senha errada!\");\n  \t}\n\n\trender(){\n\t\t/* Adding the attribute 'removed' to json object before sending it to\n\t    others componentes */\n    \tconst escala = this.state.escala;\n    \tescala.map( (item, i) => {\n      \t\treturn ( item['removed'] = 'false' )\n    \t});\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t{\n\t\t\t\t(this.state.isLogged) ? \n\t\t\t\tLoggedIn(this.state.escala, this.state.username)\n\t\t\t\t:\n\t\t\t\t<LoginScreen onSignIn={this.signIn.bind(this)} data={this.state.escala}/>\n\t\t\t}\n\t\t\t</div>\n\t\t)\n\n\t}\n\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}