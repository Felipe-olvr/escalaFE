{"ast":null,"code":"var _jsxFileName = \"/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js\";\nimport React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\n\nconst LoggedIn = () => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, React.createElement(LateralMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }), React.createElement(SearchBar, {\n    data: this.state.escala,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }));\n};\n\nclass LoginScreen extends React.Component {\n  handleLogin(e) {\n    e.preventDefault();\n    let username = this.refs.username.value;\n    let password = this.refs.password.value;\n    this.props.onSignIn(username, password);\n  }\n\n  render() {\n    const divStyleLogin = {\n      margin: '20px',\n      borderStyle: 'solid',\n      borderWidth: '1px',\n      padding: '10px',\n      background: '#EEE',\n      width: '40%'\n    };\n    return React.createElement(\"div\", {\n      style: divStyleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Escala Front-End App\"), React.createElement(\"form\", {\n      onSubmit: this.handleLogin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Usu\\xE1rio: \"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"username\",\n      size: \"30\",\n      placeholder: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Senha: \"), React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"password\",\n      size: \"30\",\n      placeholder: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      escala: [],\n      username: [],\n\n      /* all the usernames are active emails from escala */\n      password: \"123\"\n    };\n  }\n  /* Getting json file from backend application */\n\n\n  componentDidMount() {\n    fetch('http://homestead.local/escala').then(response => response.json()).then(escala => this.setState({\n      escala\n    })).then(username => this.setState({\n      username: this.state.escala.filter(item => item.status === 'ativo').map((item, i) => {\n        return item.email;\n      })\n    })).catch(e => {\n      console.log(e);\n      return e;\n    });\n  }\n\n  signIn(username, password) {\n    let success = false;\n\n    for (let i = 0; i < this.state.username.length; i++) {\n      if (username === this.state.username[i] && password === this.state.password) {\n        console.log(\"Logado!\");\n        success = true;\n        {\n          LoggedIn();\n        }\n      }\n    }\n\n    if (success === false) console.log(\"Usuário ou senha errada!\");\n  }\n\n  render() {\n    /* Adding the attribute 'removed' to json object before sending it to\n       others componentes */\n    const escala = this.state.escala;\n    escala.map((item, i) => {\n      return item['removed'] = 'false';\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(LoginScreen, {\n      onSignIn: this.signIn.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/felipe/Documents/Personal/Programming/JS/React/escalafe/src/Login.js"],"names":["React","LateralMenu","SearchBar","LoggedIn","state","escala","LoginScreen","Component","handleLogin","e","preventDefault","username","refs","value","password","props","onSignIn","render","divStyleLogin","margin","borderStyle","borderWidth","padding","background","width","bind","Login","constructor","componentDidMount","fetch","then","response","json","setState","filter","item","status","map","i","email","catch","console","log","signIn","success","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LateralMenu from './components/LateralMenu';\nimport SearchBar from './components/SearchBar';\n\nconst LoggedIn = () => {\n\treturn (\n\t\t<div>\n  \t\t\t<LateralMenu />\n        \t<SearchBar data={this.state.escala}/>\n  \t\t</div>\n\t)\n}\n\n\nclass LoginScreen extends React.Component {\n\n\thandleLogin(e){\n\t\te.preventDefault();\n\t\tlet username = this.refs.username.value;\n\t\tlet password = this.refs.password.value;\n\t\tthis.props.onSignIn(username, password);\n\t}\n\n\trender(){\n\t\tconst divStyleLogin = {\n\t\t\tmargin: '20px',\n\t\t\tborderStyle: 'solid',\n\t\t\tborderWidth: '1px',\n\t\t\tpadding: '10px',\n\t\t\tbackground: '#EEE',\n\t\t\twidth: '40%'\n\t\t};\n\n\t\treturn (\n\t\t\t<div style={divStyleLogin}>\n\t\t\t<h1>Escala Front-End App</h1>\n\t\t\t<form onSubmit={this.handleLogin.bind(this)}>\n\t\t\t<p><b>Usuário: </b><input type=\"text\" ref=\"username\" size=\"30\" placeholder=\"\"/></p>\n\t\t\t<p><b>Senha: </b><input type=\"password\" ref=\"password\" size=\"30\" placeholder=\"\"/></p>\n\t\t\t<p><input type=\"submit\" value=\"Login\"/></p>\n\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Login extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tescala: [],\n\t\t\tusername: [], /* all the usernames are active emails from escala */\n\t\t\tpassword: \"123\"\n\t\t};\n\t\t\n\t}\n\n\t/* Getting json file from backend application */\n\tcomponentDidMount() {\n    \tfetch('http://homestead.local/escala')\n      \t\t.then(response => response.json())\n      \t\t.then(escala => this.setState({ escala }))\n      \t\t.then(username => this.setState({\n      \t\t\tusername: this.state.escala\n      \t\t\t.filter( (item) => (item.status === 'ativo'))\n      \t\t\t.map( (item, i) => { return item.email; })\n      \t\t}))\n      \t\t.catch(e => {\n        \t\tconsole.log(e);\n        \treturn e;\n    \t});\n\n  \t}\n\n  \tsignIn(username, password) {\n  \t\tlet success = false;\n  \t\tfor(let i = 0; i < this.state.username.length; i++){\n  \t\t\tif((username === this.state.username[i]) && \n  \t\t\t\t(password === this.state.password))\n  \t\t\t{\n  \t\t\t\tconsole.log(\"Logado!\");\n  \t\t\t\tsuccess = true;\n  \t\t\t\t{LoggedIn()}\n  \t\t\t}\n  \t\t}\n  \t\tif(success === false) \n  \t\t\tconsole.log(\"Usuário ou senha errada!\");\n  \t}\n\n\trender(){\n\t\t/* Adding the attribute 'removed' to json object before sending it to\n\t    others componentes */\n    \tconst escala = this.state.escala;\n    \tescala.map( (item, i) => {\n      \t\treturn ( item['removed'] = 'false' )\n    \t});\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t<LoginScreen onSignIn={this.signIn.bind(this)} />\n\t\t\t</div>\n\t\t)\n\t\t\n\t}\n\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}